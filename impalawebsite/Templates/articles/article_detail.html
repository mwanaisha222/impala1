{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ article.title }} – Newsletter</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'css/landing.css' %}">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}">
</head>
<body>

{% include "partials/header.html" %}

<div class="container mt-5">
    <h1>{{ article.title }}</h1>
    <p class="text-muted">
        By {{ article.author.email }} • {{ article.created_at|date:"F j, Y" }}
    </p>

    {% if article.featured_image %}
        <img src="{{ article.featured_image.url }}" class="img-fluid mb-3" alt="{{ article.title }}">
    {% endif %}

    <div class="article-body">
        {{ article.body|safe }}
    </div>

    <p class="mt-3"><strong>Keywords:</strong> {{ article.keywords }}</p>

    <div class="mt-4 d-flex gap-2">
        <a href="{% url 'article_list' %}" class="btn btn-secondary">Back to Articles</a>

        {# Show edit/delete only to the author #}
        {% if user.is_authenticated and user == article.author %}
            <a href="{% url 'article_update' article.pk %}" class="btn btn-primary">
                Edit
            </a>

            <!-- Delete confirmation trigger -->
            <a href="{% url 'article_delete' article.pk %}" class="btn btn-danger"
               onclick="return confirm('Are you sure you want to delete this article?');">
                Delete
            </a>
        {% endif %}
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

{% include "partials/footer.html" %}

</body>
</html>
